<!DOCTYPE html>
<html>
<head>
	<title>MouseBoxes</title>
	<script src="js/jquery.js"></script>
	<script>
		$(document).ready(function(){
			var bodyString = "";
			var rows = 5;
			var columns = 5;
			var sideLen = 100;
			for(var i = 0; i < rows; i++){
				for(var j = 0; j < columns; j++){
					bodyString += "<div class=\"mouseBox row-"+i+" col-"+j+"\"></div>";
				}
			} 


			$(".row-2.col-6")

			//Appending the string to the document
			$("body").html(bodyString);
			$(".mouseBox").css("height", sideLen).css("width", sideLen);

			//Storing the information
			var initialX = [];
			var initialY = [];
			$(".mouseBox").each(function(index) {
				var offset = $(this).offset();
				initialX[index] = offset.left;
				initialY[index] = offset.top;
			});

			//Storing the objects
			// for(var i = 0$(".mouseBox");
			$(document).mousemove(function(e){
				$(".mouseBox").each(function(index){
					// if(e.pageX % 2 == 0) return;
					// if(e.pageY % 2 == 0) return;

					var newX, newY;
					var radius = sideLen / 2;
					var oldX = initialX[index] + radius;
					var oldY = initialY[index] + radius;

					var xDiff = oldX - e.pageX;
					var yDiff = oldY - e.pageY;



					//Getting the diff
					var xPos = 1;
					if(xDiff < 0) {
						xPos = -1;
						xDiff *= -1;
					}

					var yPos = 1;
					if(yDiff < 0) {
						yPos = -1;
						yDiff *= -1;
					}

					var distX = Math.sqrt(xDiff);
					var distY = Math.sqrt(yDiff);

					newX = oldX + (distX* xPos) - radius;
					newY = oldY + (distY* yPos) - radius;

					$(this).offset({top: newY, left: newX});
				});
 
			});

		});

			

	</script>
	<style type="text/css">
		.mouseBox {
			float: left;
			background-color: gray;
		}

	</style>
</head>
<body>
	<div></div>
</body>
</html>